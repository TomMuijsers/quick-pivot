{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 26f101e2af3ec7c091dc","webpack:///./src/index.js","webpack:///./src/logic.js"],"names":["Pivot","data","rows","cols","agg","type","header","tableCreator","fixDataFormat","Array","isArray","length","reduce","dataCol","row","i","arr","push","acc","curr","index","groupByCategory","groupBy","category","groupByCategories","groups","filter","ele","groupCopy","Object","assign","groupedData","shift","groupedDataKeys","keys","children","map","el","createColumnHeaders","firstColumn","columnHeaders","mapToHeader","mapPos","columnHeaderRecursion","pos","headerMap","currKeys","reqLength","currLength","concat","fill","accumulator","accCat","accType","accValue","array","Number","checkPivotCategories","actualCats","selectedCats","errMessage","forEach","indexOf","selectedCat","Error","join","accCatOrCB","accTypeOrInitVal","rowHeader","columnData","headerLength","dataRows","rawData","prevKey","rowRecurse","rowGroups","key","recursedData","recurseThroughMap","dataPos","datum","rawDataDatum","innerKey","table"],"mappings":"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","file":"quick-pivot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"quick-pivot\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"quick-pivot\"] = factory();\n\telse\n\t\troot[\"quick-pivot\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 26f101e2af3ec7c091dc\n **/","import { tableCreator } from './logic';\n\nexport default class Pivot {\n\n  constructor(data, rows, cols, agg, type, header) {\n    this.rows = rows;\n    this.cols = cols;\n    this.agg = agg;\n    this.type = type;\n    this.header = header;\n    this.data = tableCreator(data, rows, cols, agg, type, header);\n  }\n\n  getData() {\n    return this.data;\n  }\n\n  setData(data) {\n    this.data = tableCreator(\n        data, this.rows, this.cols, this.agg, this.type, this.header);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","'use strict';\n\nfunction fixDataFormat(data) {\n  if (!Array.isArray(data) || !data.length) return [];\n  else if (typeof data[0] === 'object' && !Array.isArray(data[0])) return data;\n  return data.reduce((dataCol, row, i, arr) => {\n    if (i !== 0) {\n      if (Array.isArray(row)) {\n        dataCol.push(row.reduce((acc, curr, index) =>{\n          acc[arr[0][index]] = curr;\n          return acc;\n        }, {}));\n      } else {\n        dataCol.push({[arr[0]]: row});\n      }\n    }\n    return dataCol;\n  }, []);\n}\n\nfunction groupByCategory(data, groupBy) {\n  return data.reduce((acc, curr) =>{\n    var category = curr[groupBy];\n\n    if (!acc[category]) acc[category] = [];\n    acc[category].push(curr);\n    return acc;\n  }, {});\n}\n\nfunction groupByCategories(data, groups = [], acc = {}) {\n  if (!data.length) return [];\n\n  groups = groups.filter(ele =>{\n    return ele in data[0];\n  });\n\n  if (!groups.length) return data;\n\n  var groupCopy = Object.assign([], groups);\n  var groupedData = groupByCategory(data, groupCopy.shift());\n  var groupedDataKeys = Object.keys(groupedData);\n  var children = groupedDataKeys.map(el => {\n    return groupedData[el];\n  });\n\n  for (let i = 0; i < children.length; i++) {\n    acc[groupedDataKeys[i]] = groupCopy.length ? {} : [];\n    acc[groupedDataKeys[i]] = groupByCategories(\n        children[i], groupCopy, acc[groupedDataKeys[i]]);\n  }\n\n  return acc;\n}\n\nfunction createColumnHeaders(data, cols = [], firstColumn = '') {\n  if (!cols.length) return {columnHeaders: [firstColumn], mapToHeader: 1};\n\n  var groupedData = groupByCategories(data, cols);\n  var columnHeaders = [];\n  var mapToHeader = Object.assign({}, groupedData);\n  var mapPos = 1;\n\n  (function columnHeaderRecursion(data, pos = 0, headerMap) {\n    if (typeof data !== 'object' || Array.isArray(data)) return 1;\n\n    var currKeys = Object.keys(data);\n    var reqLength = 0;\n\n    for (let i = 0; i < currKeys.length; i++) {\n      let currLength = columnHeaderRecursion(\n          data[currKeys[i]], pos + 1, headerMap[currKeys[i]]);\n\n      if (Array.isArray(data[currKeys[i]])) {\n        headerMap[currKeys[i]] = mapPos;\n        mapPos += 1;\n      }\n      reqLength += currLength;\n      columnHeaders[pos] = !columnHeaders[pos] ?\n          [firstColumn].concat(Array(currLength).fill(currKeys[i])) :\n          columnHeaders[pos].concat(Array(currLength).fill(currKeys[i]));\n    }\n    return reqLength;\n\n  })(groupedData, 0, mapToHeader);\n\n  return {\n    columnHeaders,\n    mapToHeader\n  };\n}\n\n/**\n * accumulator has two different signatures\n * 1. it takes an array of objects, an accumulation category as a string\n *  (like age), and supported accumulation type as a string (like count)\n * 2. it takes an array of objects, a callback function (which operates\n *  the same as reduce), and an initial value\n */\nfunction accumulator(arr, accCat, accType, accValue) {\n  if (!accCat && typeof accType !== 'function') accType = 'count';\n  else if (typeof accCat === 'function') {\n    accValue = accType || 0;\n    accType = accCat;\n  }\n\n  return arr.reduce((acc, curr, index, array) => {\n    if (typeof accType === 'function') {\n      return accType(acc, typeof accCat === 'string' ? curr[accCat] :\n                                                       curr, index, array);\n    }\n    switch (accType) {\n      case ('sum'): {\n        acc += Number(curr[accCat]);\n        return acc;\n      }\n\n      case ('count'): {\n        acc += 1;\n        return acc;\n      }\n\n      default: {\n        acc += 1;\n        return acc;\n      }\n    }\n  }, accValue || 0);\n}\n\nfunction checkPivotCategories(actualCats, selectedCats) {\n  var errMessage = [];\n\n  selectedCats.forEach(selectedCat =>{\n    if (actualCats.indexOf(selectedCat) === -1) errMessage.push(selectedCat);\n  });\n  if (errMessage.length) {\n    throw new Error(\n        `Check that these selected pivot categories exist: ${errMessage.join(\n            ',')}`);\n  }\n}\n\nexport function tableCreator(\n    data, rows = [], cols = [], accCatOrCB, accTypeOrInitVal, rowHeader) {\n  data = fixDataFormat(data);\n  if (!data.length) return [];\n  checkPivotCategories(Object.keys(data[0]), rows);\n  checkPivotCategories(Object.keys(data[0]), cols);\n\n  if (typeof rowHeader === 'undefined') {\n    rowHeader = typeof accCatOrCB !== 'function' ?\n        `${accTypeOrInitVal} ${accCatOrCB}` :\n        'Custom Agg';\n  }\n\n  const columnData = createColumnHeaders(data, cols, rowHeader);\n  const columnHeaders = Array.isArray(columnData.columnHeaders[0]) ?\n      columnData.columnHeaders :\n      [columnData.columnHeaders.concat(rowHeader)];\n  const mapToHeader = columnData.mapToHeader;\n  const headerLength = columnHeaders[0].length;\n\n  var dataRows = [];\n  var rawData = [];\n  var prevKey = '';\n\n  function rowRecurse(rowGroups) {\n    for (let key in rowGroups) {\n      if (Array.isArray(rowGroups[key])) {\n        var recursedData = groupByCategories(rowGroups[key], cols);\n\n        (function recurseThroughMap(dataPos, map) {\n          if (Array.isArray(dataPos)) {\n            if (key === prevKey) {\n              let datum = dataRows[dataRows.length - 1];\n\n              datum[map] = accumulator(dataPos, accCatOrCB, accTypeOrInitVal);\n              dataRows[dataRows.length - 1] = datum;\n\n              let rawDataDatum = rawData[rawData.length - 1];\n\n              rawDataDatum[map] = dataPos;\n              rawData[rawData.length - 1] = rawDataDatum;\n            } else {\n              prevKey = key;\n              let datum = [key].concat(\n                  Array(map - 1).fill(''),\n                  accumulator(dataPos, accCatOrCB, accTypeOrInitVal),\n                  Array(headerLength - (map + 1)).fill(''));\n              let rawDataDatum = [key].concat(\n                Array(map - 1).fill(''),\n                [dataPos],\n                Array(headerLength - (map + 1)).fill(''));\n\n              rawData.push(rawDataDatum);\n              dataRows.push(datum);\n            }\n          } else {\n            for (let innerKey in dataPos) {\n              recurseThroughMap(dataPos[innerKey], map[innerKey]);\n            }\n          }\n        })(recursedData, mapToHeader || 1);\n\n      } else {\n        dataRows.push([key].concat(Array(headerLength - 1).fill('')));\n        rowRecurse(rowGroups[key], key);\n      }\n    }\n  }\n\n  if (rows.length || cols.length) {\n    rowRecurse(groupByCategories(data, rows.length ? rows : cols));\n  } else {\n    dataRows.push([rowHeader, accumulator(data, accCatOrCB, accTypeOrInitVal)]);\n    rawData = data;\n  }\n\n  return {\n    table: columnHeaders.concat(dataRows),\n    rawData\n  };\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/logic.js\n **/"],"sourceRoot":""}